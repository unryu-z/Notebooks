# 文字与符号

## 0.基础

- 重音(accents)，指加在字母上的标记，包括抑音符、锐音符、抑扬符等。和其他特殊字母的命令具体见《latex入门》p52.
- 其他语言可以使用`bable`包。
- **连写(**ligature)，由使用的字体决定
  - 取消连写，可以在连写的字母之间`{}`产生一个空的分组，或者使用命令`\/`。

## 1.标点

### 1.1.英文标点

- **空格**，单独产生命令`\加空格`。命令`\,`产生很小的**空格** 
  - 在正文外的部分，空行不表示任何意义
  - 汉字后面的空格会被忽略。
    - 汉字与其他内容之间没有空格时，`xeCJK`宏包会自动添加；**忽略自动产生的空格**时，可以将汉字用一个分组括起来。
    - 完全禁止汉字与其他内容之间的空格，可以使用声明`\CJKsetecglue{}`设置汉字和其他内容之间的<u>内容为空</u>
  - 每行最前的所有空格被忽略
  - 只有字符后的空格有效
  - 单个换行(不是空一行)视作一个空格
  - 命令后面的空格会被忽略；要在命令后使用空格，可以使用命令`\后加一个空格` ；或者加一个空的分组`{}`；或者将命令用一个分组括起来，此分组前后要加空格。
  - **幻影(phantom)**：使用命令`\phantom{参数}`产生一个与参数内容一样大小的**空盒子**。
    - 命令``\hphantom{参数}``产生水平方向幻影，命令``\vphantom{参数}`产生垂直方向幻影
- **标点`, . ; : ! ? `**用来分隔句子， 在每个标点后应该加空格，以保证正确的距离和换行。标点后没空格就不能换行
- **句号`.`** 
  - 大写字母后的句点视为缩写标记，小写后面地句点视为句子结束。
  - 大写字母后<u>句子结束</u>的句点可以使用命令`\@.`
  - 小写字母加句点表示<u>缩写标记</u>时，源码中可以在句点后加命令`\加空格`
- **引号** 在latex中用`'`表示。 **单引号**用一遍；**双引号**用两边；连续出现时，在它们之间用命令`\,`隔开
  - 通常在**引号**和**括号**前后加空格分隔当初
- **减号** 
  - `-`：连字符
  - `--`：en dash，常用来表示数字范围。中文中常使用符号`~`，(数学模式的符号$\sim$，命令为`$\sim$`)
  - `---`：em dash，西文破折号
- **西文省略号(ellipsis)** 使用命令`\ldots`或`\dots`产生
  - 通常在句中使用时，前后都要加空格
  - 句末使用时应该有4个点，所以使用命令`\ldots.`
  - 省略号出现下两个单词之间时，应该放到数学模式中，即`$\ldots$`，且前后都有空格
- **数学模式符号`$$`** 单独产生命令`\$`
- **注释符`%`**，单独产生命令`\%`
- **上标`^`**
- **下标`_`**，单独产生命令`\_`
- **分组`{}`**，单独产生命令`\{`，`\}`。
- **宏命令`\`**，单独产生命令`\textbackslash`
- **带子`~`**，是一种不可打断的空格，latex禁止在这种空格(带子)之间分行
- **宏定义`#`**，单独产生命令`\#`
- **表格对齐`&`**，单独产生命令`\&`
- **数学符号`~`**，
- **双引号`"`**常不使用在正文中

### 1.2.中文标点

中文使用**全角标点**

- 中文空格，使用命令`\quad`参数1个长度的空格，使用命令`\qquad`参数2个长度的空格.
- 中文省略号……，在中文输入法中使用`shift+6`得到
- 中文破折号——，在中文输入法中使用`shift+减号`得到

latex不会自动处理汉字标点的宽度和间距，也不能保证标点的禁则（如句号。不能出现在行首）。

- 中文标点一边由`xeCJK`宏包控制，其中命令`\punctstyle`使用有：
  - `punctstyle{quanjiao}`全角式，所有标点全角，有标点挤压
  - `punctstyle{banjiao}`半角式，所有标点半角，有标点挤压
  - `punctstyle{kaiming}`开明式，部分标点半角，有标点挤压
  - `punctstyle{hangmobanjiao}`行末半角式，仅行末挤压
  - `punctstyle{plain}`无格式，只有禁则

## 2.特殊符号

一些特殊的符号书写见《latex入门》p60.

注意以下命令的区别

```
'
\symbol{\'}
\symbol{'}
\symbol{'<数字>}
```

$\infty$ :`\infty`

## 3.字体

### 3.1.西文字体

可以使用命令`\textnormal{<文字>}`和`\normalfont`把字体设置为"普通"的格式，默认情况下，相当于`\rmfamily\mdseries\upshape`的效果

#### 3.1.1.字号(font size)

即文字大小，见4.

#### 3.1.2.字体编码(font encoding)



#### 3.1.3.字体族(font family)

预定义的字体族有3种，**正文默认**使用<u>Roman字体族</u>

| 字体族                          | 带参数命令      | 声明命令  |
| ------------------------------- | --------------- | --------- |
| 罗马字体族(roman family)        | \textrm{<文字>} | \rmfamily |
| 无衬线字体族(sans serif family) | \textsf{<文字>} | \sffamily |
| 打字机字体族(typewriter family) | \texttt{<文字>} | \ttfamily |



#### 3.1.4.字体形状(font shape)

预定义的字体形状有4种，**正文默认**使用<u>直立字体形状</u>，数学公式中的字体一般使用意大利形状

| 字体形状                           | 带参数命令      | 声明命令 |
| ---------------------------------- | --------------- | -------- |
| 直立形状(upright shape)            | \textup{<文字>} | \upshape |
| 意大利形状(italic shape)           | \textit{<文字>} | \itshape |
| 倾斜形状(slanted shape)            | \textsl{<文字>} | \slshape |
| 小型大写形状(small capitals shape) | \textsc{<文字>} | \scshape |

很多字体可能缺少小型大写字母的符号，也有写字体提供更多的字体形状

使用斜体声明(`\itshape`、`\slshape`)时，最后一个倾斜字母可能超出右边界，使后面的文字与它相距过紧，修正办法如下

| 未校正的命令    | 手动校正的命令    | 自动校准的命令 | 禁止自动校准(得到未校正) |
| --------------- | ----------------- | -------------- | ------------------------ |
| `{\itshape M}M` | `{\itshape M\/}M` | `\textit{M}M`  | `\textit{M\nocorr}M`     |

命令`\nocorr`可以禁止校正。

#### 3.1.5.字体系列(font series)

预定义的字体系列有2种，**正文默认**使用<u>中等字体</u>系列

| 字体系列                | 带参数命令      | 声明命令  |
| ----------------------- | --------------- | --------- |
| 中等(medium)            | \textmd{<文字>} | \mdseries |
| 加宽加粗(bold extended) | \textbf{<文字>} | \bfseries |

不同套的字体这两个命令可能有区别

### 3.2.中文字体

中文字体一般只使用不同的**字体族**进行区分。在xeCJK和CJK宏包机制下，中文字体的选择命令和西文字体是分离的，选择中文字体族使用**声明**`\CJKfamily{<字体>}`即可。

|          | xeCJK和CJK宏包机制下 | ctex宏包即文档类(如ctexart) |
| -------- | -------------------- | --------------------------- |
| 宋体     | \CJKfamily{song}     | \songti                     |
| 黑体     | \CJKfamily{hei}      | \heiti                      |
| 楷书     | \CJKfamily{kai}      | \kaishu                     |
| 仿宋     | \CJKfamily{fs}       | \fangsong                   |
| 幼圆     | \CJKfamily{you}      |                             |
| 隶书     | \CJKfamily{li}       |                             |
| 粗体     |                      | \bfseries                   |
| 意大利体 |                      | \itshape                    |

ctex宏包即文档类(如ctexart)重定义了`\rmfamily`使它对中文起作用，默认的中文字体是rm，其正常字体是宋体，`\bfseries`**粗体**是**黑体**，`\itshape`**意大利体**是**楷体**。`\sffamily`无衬线字体对应幼圆；`\ttfamily`打字机字体对应仿宋体。

### 3.3.更多字体

见《latex入门》p68.

### 3.4.强调文字

#### 3.4.1.西文强调

| 带参数命令                                                   | 声明 | 效果                                               |
| ------------------------------------------------------------ | ---- | -------------------------------------------------- |
| \emph{<文字>}                                                | \em  | 直立形状改为意大利形状<br />意大利形状改为直立形状 |
| \underline{<文字>}<br />或者`ulem`宏包的命令`\uline{<文字>}`. |      | 下划线                                             |

**自定义强调**：用粗体系列表示

```
\newcommand\Emph{\textbf}
This is \Emph{emphasized} text
```

**ulem宏包**其它修饰命令：

|            | 带参数命令         |
| ---------- | ------------------ |
| 双下划线   | \uuline{<文字>}    |
| 下波浪线   | \uwave{<文字>}     |
| 单删除线   | \sout{<文字>}      |
| 斜杠删除线 | \xout{<文字>}      |
| 下虚线     | \dashuline{<文字>} |
| 下点线     | \doutuline{<文字>} |

#### 3.4.2.中文

**`CJKfntef`宏包**

|            | 带参数命令               |
| ---------- | ------------------------ |
| 下划线     | \CJKunderline{<文字>}    |
| 双下划线   | \CJKunderdblline{<文字>} |
| 下波浪线   | \CJKunderwave{<文字>}    |
| 单删除线   | \CJKundersout{<文字>}    |
| 斜杠删除线 | \CJKunderxout{<文字>}    |
| 下点线     | \CJKunderdot{<文字>}     |



## 4.字号和字距

### 4.1.字号

字号指文字的大小，字号命令表示的具体尺寸随着所使用的文档类和大小选项的不同而不同。字号命令不区分中西文。

可以使用命令`\fontsize{<数字>}`，`\zihao{<数字>}`来设定字号大小，具体见《latex入门》p83.



### 4.2.行距

latex中的行距与字号直接相关，默认基本行距为文字大小的1.2倍。使用命令`\linespread{<因子>}`来设置实际行距与基本行距的倍数。

对article等标准文档，因子默认为1，即行距为字号大小的1.2倍。

对ctexart等中文文档，因子默认为1.3，即行距为字号大小的1.56倍。

## 5.水平间距与盒

### 5.1.水平间距

tex中可以使用的长度单位有pt，pc，in，bp，cm，mm，dd，cc，sp，em，ex。一个长度必须数字与单位齐全，

**不可换行的水平间距**

| 命令                    | 意义      |
| ----------------------- | --------- |
| `\thinspace` 或 `\,`    | 0.1667em  |
| `\negthinspace` 或 `\!` | -0.1667em |
| `\enspace`              | 0.5em     |
| `\nobreakspace` 或 `~`  | 空格      |

**可以换行的水平间距**

| 命令      | 意义  |
| --------- | ----- |
| `\quad`   | 1em   |
| `\qquad`  | 2em   |
| `\enskip` | 0.5em |
| `\空格`   | 空格  |

**命令`\hspace{距离}`：**

- 使用命令`\hspace{距离}`来产生指定长度的**可换行**的水平间距，如`\hspace{1cm}`。
- 若命令`\hspace{距离}`只有一边有内容，则会忽略命令`\hspace{距离}`产生的距离；如想阻止距离忽略，可以使用命令`\hspace*{距离}`.
- 可产生随内容可伸缩的距离，语法是`\hspace{<普通长度> plus <可伸长长度> minus <可缩短长度>}`。如`\hspace{2em plus 1em minus 0.5em}` 表示的长度为1.5em至3em。

**命令 `\vspace{距离}`** 

### 5.2.盒子(box)

盒子是TEX中的基本处理单元，一个字符、文字、页面、表格、在TEX中国都是一个盒子

#### 5.2.1.盒子`\mbox` 和`\makebox`

- `\mbox{内容}`

- `\makebox[<宽度>][<位置>]{内容}`，对齐参数(位置)可取`c`(中)，`l`(左)，`r`(右)，`s`(分散)

#### 5.2.2.重叠`\llap` 和`\rlap`

- `\llap{内容}`：参数中的内容向当前位置的**左侧**重叠
- `\rlap{内容}`：参数中的内容向当前位置的**右侧**重叠

#### 5.2.3.带边框的盒子

- `\fbox{内容}`
- `\framebox[<宽度>][<位置>]{内容}`

边框与内容的距离由长度变量`\fboxsep`控制：

```
\setlength{\fboxsep}{0pt} \fbox{tight}
\setlength{\fboxsep}{1em} \fbox{loose}
```

边框与内容的粗细由长度变量`\fboxrule`控制

#### 5.2.4.盒子变量

声明盒子变量：`\newsavebox{命令}`

赋值盒子变量：`\sbox{命令}{内容}`，`\savebox{命令}[<宽度>][<对齐>]{内容}`，`\begin{lrbox}{命令}{内容} \end{lrbox}`，

#### 5.2.5.盒子宽度、高度、深度

具体见《latex入门》p91.